
## karma 中使用 Chrome Headless

需安装 `karma-chrome-launcher` 插件，之前一直有装，只是使用的是有头版。


```js
module.exports = function(config) {
  config.set({
    // browsers: ['Chrome'], // 有头
    browsers: ['ChromeHeadless'] // 无头
  })
}
```

## 入门、工具列表...

### 工具列表

- 测试管理工具：[Karma](http://karma-runner.github.io/1.0/index.html)
- 测试框架：[Mocha](https://mochajs.org/)
- 断言库：Jest、Jasmine、[chai.js](http://chaijs.com/guide/)
- 接口模拟 [easy mock](https://www.easy-mock.com/) 似乎无法本地代理此模拟接口
- reactjs 测试： [enzyme](http://airbnb.io/enzyme/)
- web app|站点 测试：[Nightwatch.js](http://nightwatchjs.org/)

可以这么组合：karma + Mocha + chai.js、Karma + Jasmine

### 好处

- 放心大胆重构：代码重构时可保证安全性，即保证功能完整
- 测试用例相当于API文档
- 迫使编写更易于维护的代码：因为需尽量做到让编写的每个单元都可单独测试

### webdriver 实验

[可模拟浏览器点击的测试框架：selenium-webdriver](https://www.npmjs.com/package/selenium-webdriver)

http://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index_exports_WebElement.html

```js
var webdriver = require('selenium-webdriver'),
    By = webdriver.By,
    until = webdriver.until;

var driver = new webdriver.Builder()
    .forBrowser('firefox')
    .build();

driver.get('https://www.baidu.com/');
driver.findElement(By.id('kw')).sendKeys('123');
driver.findElement(By.id('su')).click();
driver.wait(until.titleIs('百度一下，你就知道'), 1000);
driver.quit();
```

### 参考学习

[为什么要做测试？karma的使用](https://www.douban.com/note/334051223/)

https://github.com/tmallfe/tmallfe.github.io/issues/37

http://www.jianshu.com/p/6726c0410650

http://taobaofed.org/blog/2016/01/08/karma-origin/
